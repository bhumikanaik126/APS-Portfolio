## **Budget-Constrained Ad Selection using Greedy + Dynamic Programming (Knapsack)**

### ğŸ¯ The Challenge:

Advertisers want to **bid for user impressions**, but they have **limited budgets**.
Given a list of ads, each with:

* ğŸ“ˆ **Expected revenue** (or CTR)
* ğŸ’° **Cost to display**

We need to **select the optimal set of ads** to show such that:

âœ… Total **revenue is maximized**
âœ… Combined **cost stays within the advertiser's budget**

---

### ğŸš€ The Solution: 0/1 Knapsack with Greedy Optimizations

This is a **classic optimization problem** where:

* Items = ads
* Weight = cost to show the ad
* Value = expected profit / CTR
* Capacity = total available budget

We use:

1. **Dynamic Programming (0/1 Knapsack)** for exact, optimal solutions.
2. **Greedy strategies** (e.g., profit-to-cost ratio) when needing faster approximations at scale.

---

### ğŸ§  Why Knapsack?

âœ… Advertisers can only spend **up to a budget**
âœ… Each ad offers a **value (CTR Ã— revenue)**
âœ… Goal: **maximize total value within the budget**

This is **exactly the 0/1 Knapsack problem** â€” choose a subset of items (ads) such that:

* Total cost â‰¤ Budget
* Total value is maximized

---

### ğŸ› ï¸ C++ Implementation
[View code here](https://github.com/bhumikanaik126/APS-Portfolio/blob/main/codes/b3.cpp)<br><br>

---

### ğŸŒ Conceptual Flow Example

Letâ€™s say we have:

| Ad | Cost | Value |
| -- | ---- | ----- |
| A1 | 4    | 10    |
| A2 | 2    | 4     |
| A3 | 3    | 7     |

Budget = 5

âœ… Optimal Set: A3 + A2 â†’ total cost = 5, total value = 11

---

### â±ï¸ Time and Space Complexity

Let:

* **n** = number of ads
* **B** = total budget

| Operation | Complexity |
| --------- | ---------- |
| DP Time   | O(n Ã— B)   |
| DP Space  | O(n Ã— B)   |

For very large B, use **space-optimized 1D DP**: `vector<int> dp(B+1)`

---

### ğŸ§ª Real-World Usage in AdTech

* Platforms like Google Ads, Facebook Ads, or YouTube Ads use this logic to:

ğŸ“Š **Maximize returns under advertiser budget constraints**
âš–ï¸ **Select high-value ads without overspending**
âš™ï¸ **Batch optimization** in impression-serving pipelines

---

### âš™ï¸ Backend Enhancements

* ğŸ”„ **Greedy Pre-filtering**: Sort by `value/cost` ratio
* ğŸ’¡ Use **Hybrid Strategy**:

  * Greedy if ad count is high, budget is tight
  * DP for exact match in premium placements
* ğŸ§  **Add frequency capping** and real-time bidding as constraints

---

### ğŸ–¼ï¸ Visualization

* ğŸ“Š **Bar chart** with:

  * X-axis: Ads
  * Y-axis: Cost and Value
  * Highlighted bars for ads selected under budget
* ğŸ’¼ Knapsack Illustration:

  * Capacity = Budget
  * Items = Ads with weight (cost) and value (CTR)

---

### ğŸ’¡ Key Takeaways

* **Knapsack logic powers core budget optimization** in digital ads.
* Helps ensure **maximum ROI** for advertisers under spending limits.
* Blends well with real-time bidding, personalization, and ranking pipelines.
* Ideal for **programmatic ad selection**, where millions of bids are evaluated every second.

---
